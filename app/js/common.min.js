function isVisible(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,o=t.top+700>0&&t.top+700<n,s=t.bottom-500<n&&t.bottom-500>0;return o||s}function showVisible(){for(var e=document.getElementsByTagName("section"),t=0;t<e.length;t++){var n=e[t];isVisible(n)&&n.classList.add("active")}}function image_loaded(){images_loade_count++,perc_display.innerHTML=(100/images_total_count*images_loade_count<<0)+"%",images_loade_count>=images_total_count&&setTimeout(function(){preloader.classList.contains("done")||(preloader.classList.add("done"),setTimeout(function(){document.body.classList.add("ready")},500))},1e3)}for(var count,menu=document.getElementById("menu"),bcon=document.getElementById("b-con"),scre=document.getElementById("screen").children,carouselWrap=document.getElementById("js-carousel__wrap").children,images=document.images,images_total_count=images.length,images_loade_count=0,perc_display=document.getElementById("load"),preloader=document.getElementById("page-preloader"),i=0;i<images_total_count;i++)image_clone=new Image,image_clone.onload=image_loaded,image_clone.onerror=image_loaded,image_clone.src=images[i].src;window.onscroll=showVisible,showVisible(),function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype),function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}(),document.onclick=function(e){if(e.target.closest(".menu-item")&&(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")),e.target.closest("#burger-open")?(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")):e.target.closest("#burger-close")&&(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")),e.target.closest("#js-carousel__next"))return e.preventDefault(),void 0==count&&(count=0),count==carouselWrap.length-1?(carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),count=0,carouselWrap[0].classList.add("active"),void scre[0].classList.add("active")):(carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),carouselWrap[count].nextElementSibling.classList.add("active"),scre[count].nextElementSibling.classList.add("active"),count+=1,!1);if(e.target.closest("#js-carousel__prev")){if(e.preventDefault(),void 0==count&&(count=0),0==count)return carouselWrap[0].classList.remove("active"),scre[0].classList.remove("active"),count=carouselWrap.length-1,carouselWrap[4].classList.add("active"),void scre[4].classList.add("active");carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),carouselWrap[count].previousElementSibling.classList.add("active"),scre[count].previousElementSibling.classList.add("active"),count-=1,console.log(count)}};for(var linkNav=document.querySelectorAll('[href^="#home"],[href^="#contacts"],[href^="#portfolio"],[href^="#skils"],[href^="#forMe"]'),V=.5,i=0;i<linkNav.length;i++)linkNav[i].addEventListener("click",function(e){function n(e){null===start&&(start=e);var a=e-start,c=t<0?Math.max(o-a/V,o+t):Math.min(o+a/V,o+t);window.scrollTo(0,c),c!=o+t?requestAnimationFrame(n):location.hash=s}e.preventDefault();var o=window.pageYOffset,s=this.href.replace(/[^#]*(.*)/,"$1");t=document.querySelector(s).getBoundingClientRect().top,start=null,requestAnimationFrame(n)},!1);!function(){"use strict";function e(e,t){var n="";return{username:function(){0!=e.username.length&&0!=a.test(e.username)||(n=i[1])},usermail:function(){0==e.usermail.length?n=i[2]:0==c.test(e.usermail)&&(n=i[3])},textmess:function(){0==e.textmess.length?n=i[5]:0==r.test(e.textmess)&&(n=i[6])}}[t](),n}function t(e,t){var o=n.querySelector("[name="+e+"]"),s=o.nextElementSibling;o.classList.add("form-control_error"),s.innerHTML=t,s.style.display="block"}var n=document.getElementById("form");if(n){var o=n.querySelectorAll(".form-con"),s=document.getElementById("send_mess"),a=/^[а-яА-ЯёЁa-zA-Z0-9]+$/,c=/^[A-Za-z0-9](([_\.\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\.\-]?[a-zA-Z0-9]+)*)\.([A-Za-z])+$/,r=/[^\<\>\[\]%\&'`]+$/,i=["Незаполненное поле ввода","Введите Ваше реальное имя","Укажите Ваш электронную почту","Неверный формат электронной почты","Укажите тему сообщения","Напишите текст сообщения","Ваше сообщение похоже на спам, уберите специальные символы."],l=!1;s.addEventListener("click",function(o){o.preventDefault();var s,a=function(e){var t={};if(!e.elements)return"";for(var n=0,o=e.elements.length;n<o;n++){var s=e.elements[n];"button"!=s.name.toLowerCase()&&(t[s.name]=s.value)}return t}(n);for(var c in a)0!=(s=e(a,c)).length&&(l=!0,t(c,s));return l||function(e){var t=new XMLHttpRequest,n="username="+encodeURIComponent(e.username)+"&usermail="+encodeURIComponent(e.usermail)+"&subject="+encodeURIComponent(e.subject)+"&textmess="+encodeURIComponent(e.textmess);t.open("POST","/sendmail.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),t.send(n),t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&t.status}}(a),!1}),[].forEach.call(o,function(n){n.addEventListener("blur",function(n){var o=n.target,s=o.getAttribute("name"),a={};a[s]=o.value;var c=e(a,s);return 0!=c.length&&t(s,c),!1})}),n.addEventListener("focus",function(){var e=document.activeElement;e!==s&&function(e){var t=e.nextElementSibling;e.classList.remove("form-control_error"),t.removeAttribute("style")}(e)},!0)}}();