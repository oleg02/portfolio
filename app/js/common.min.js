function isVisible(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,s=t.top+700>0&&t.top+700<n,o=t.bottom-500<n&&t.bottom-500>0;return s||o}function showVisible(){for(var e=document.getElementsByTagName("section"),t=0;t<e.length;t++){var n=e[t];isVisible(n)&&n.classList.add("active")}}var count,menu=document.getElementById("menu"),bcon=document.getElementById("b-con"),scre=document.getElementById("screen").children,carouselWrap=document.getElementById("js-carousel__wrap").children;document.body.onload=function(){var e=document.getElementById("page-preloader");setTimeout(function(){e.classList.contains("done")||document.body.classList.add("done")},1e3)},window.onscroll=showVisible,showVisible(),function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype),function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}(),document.onclick=function(e){if(e.target.closest(".menu-item")&&(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")),e.target.closest("#burger-open")?(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")):e.target.closest("#burger-close")&&(e.preventDefault(),menu.classList.toggle("open"),bcon.classList.toggle("open"),document.body.classList.toggle("overf")),e.target.closest("#js-carousel__next"))return e.preventDefault(),void 0==count&&(count=0),count==carouselWrap.length-1?(carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),count=0,carouselWrap[0].classList.add("active"),void scre[0].classList.add("active")):(carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),carouselWrap[count].nextElementSibling.classList.add("active"),scre[count].nextElementSibling.classList.add("active"),count+=1,!1);if(e.target.closest("#js-carousel__prev")){if(e.preventDefault(),void 0==count&&(count=0),0==count)return carouselWrap[0].classList.remove("active"),scre[0].classList.remove("active"),count=carouselWrap.length-1,carouselWrap[4].classList.add("active"),void scre[4].classList.add("active");carouselWrap[count].classList.remove("active"),scre[count].classList.remove("active"),carouselWrap[count].previousElementSibling.classList.add("active"),scre[count].previousElementSibling.classList.add("active"),count-=1,console.log(count)}};for(var linkNav=document.querySelectorAll('[href^="#home"],[href^="#contacts"],[href^="#portfolio"],[href^="#skils"],[href^="#forMe"]'),V=.5,i=0;i<linkNav.length;i++)linkNav[i].addEventListener("click",function(e){function n(e){null===start&&(start=e);var a=e-start,c=t<0?Math.max(s-a/V,s+t):Math.min(s+a/V,s+t);window.scrollTo(0,c),c!=s+t?requestAnimationFrame(n):location.hash=o}e.preventDefault();var s=window.pageYOffset,o=this.href.replace(/[^#]*(.*)/,"$1");t=document.querySelector(o).getBoundingClientRect().top,start=null,requestAnimationFrame(n)},!1);!function(){"use strict";function e(e,t){var n="";return{username:function(){0!=e.username.length&&0!=a.test(e.username)||(n=i[1])},usermail:function(){0==e.usermail.length?n=i[2]:0==c.test(e.usermail)&&(n=i[3])},textmess:function(){0==e.textmess.length?n=i[5]:0==r.test(e.textmess)&&(n=i[6])}}[t](),n}function t(e,t){var s=n.querySelector("[name="+e+"]"),o=s.nextElementSibling;s.classList.add("form-control_error"),o.innerHTML=t,o.style.display="block"}var n=document.getElementById("form");if(n){var s=n.querySelectorAll(".form-con"),o=document.getElementById("send_mess"),a=/^[а-яА-ЯёЁa-zA-Z0-9]+$/,c=/^[A-Za-z0-9](([_\.\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\.\-]?[a-zA-Z0-9]+)*)\.([A-Za-z])+$/,r=/[^\<\>\[\]%\&'`]+$/,i=["Незаполненное поле ввода","Введите Ваше реальное имя","Укажите Ваш электронную почту","Неверный формат электронной почты","Укажите тему сообщения","Напишите текст сообщения","Ваше сообщение похоже на спам, уберите специальные символы."],l=!1;o.addEventListener("click",function(s){s.preventDefault();var o,a=function(e){var t={};if(!e.elements)return"";for(var n=0,s=e.elements.length;n<s;n++){var o=e.elements[n];"button"!=o.name.toLowerCase()&&(t[o.name]=o.value)}return t}(n);for(var c in a)0!=(o=e(a,c)).length&&(l=!0,t(c,o));return l||function(e){var t=new XMLHttpRequest,n="username="+encodeURIComponent(e.username)+"&usermail="+encodeURIComponent(e.usermail)+"&textmess="+encodeURIComponent(e.textmess);t.open("POST","/sendmail.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),t.send(n),t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&200===t.status&&alert("aaaaa")}}(a),!1}),[].forEach.call(s,function(n){n.addEventListener("blur",function(n){var s=n.target,o=s.getAttribute("name"),a={};a[o]=s.value;var c=e(a,o);return 0!=c.length&&t(o,c),!1})}),n.addEventListener("focus",function(){var e=document.activeElement;e!==o&&function(e){var t=e.nextElementSibling;e.classList.remove("form-control_error"),t.removeAttribute("style")}(e)},!0)}}();